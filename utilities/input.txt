# To convert terraform files to json
python3 utilities/terraform_to_json.py  realm/validation/terraform/terraform.tfvars --output /tmp/a1.json
# To write in the same directory
# the json file will be generated in realm/validation/terraform/terraform.json
python3 utilities/terraform_to_json.py  realm/validation/terraform/terraform.tfvars

# To populate data in the mongodb
python3 utilities/populate_json.py lq --file ./realm/azureApiVersions.json --type structure
python3 utilities/populate_json.py lq --file ./realm/awsStructure.json --type structure
python3 utilities/populate_json.py lq --file ./realm/azureStructure.json --type structure
python3 utilities/populate_json.py lq --file ./realm/azureStructure1.json --type structure
python3 utilities/populate_json.py lq --file ./realm/parameterStructure.json --type structure
python3 utilities/populate_json.py lq --file ./realm/parameterStructure1.json --type structure
python3 utilities/populate_json.py lq --file ./realm/notifications/notifications_slack_wk.json --type notifications
python3 utilities/populate_json.py lq --file ./realm/notifications/notifications_email_gm.json --type notifications
python3 utilities/populate_json.py lq --file ./realm/notifications/notifications_email_sg.json --type notifications
python3 utilities/populate_json.py container1 --dir ./realm/validation/container1
python3 utilities/populate_json.py container3 --dir ./realm/validation/container3
python3 utilities/populate_json.py container4 --dir ./realm/validation/container4
python3 utilities/populate_json.py container5 --dir ./realm/validation/container5
python3 utilities/populate_json.py container6 --dir ./realm/validation/container6
python utilities/validator.py container1 --db
python utilities/validator.py container3 --db



# Mongo command line utilities
mongo localhost:27017/validator --eval "db.getCollectionNames()"
mongo localhost:27017/validator --eval "printjson(db.getCollectionNames())"

# Mongo log dumps
mkdir logdumps
mongodump --collection logs_20195931085940 --db whitekite --out /logdumps/
cd logdumps/whitekite/
bsondump logs_20195931085940.bson --pretty > ./logs_20195931085940.json
